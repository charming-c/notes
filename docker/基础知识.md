# 一、什么是 Docker

Docker 从容器的基础上，进行了进一步的封装，从文件系统、网络互联到进程隔离等等，极大地简化了容器的创建和维护。使得 Docker 技术比虚拟机技术更为轻便、快捷。

传统的虚拟机技术是在虚拟出一套硬件以后在其上运行一整套完整的操作系统，在改系统上再运行所需的应用进程；而容器内的应用进程直接运行于宿主的内核，容器内没有自己的内核，而且也没有进行硬件虚拟。因此容器比传统的虚拟机能更为轻便。

![img](https://tva1.sinaimg.cn/large/008i3skNgy1gs77rw0iykj30j8079q33.jpg)

![img](https://tva1.sinaimg.cn/large/008i3skNgy1gs77s3yrd0j30j505ft8t.jpg)

Docker 中 主要有三个基本概念：

- **镜像** （Image）
- **容器** （Container）
- **仓库** （Repository）

# 二、镜像、容器、仓库

## 镜像

操作系统分为 **内核** 和 **用户空间**，对于 Linux 而言，内核启动以后，会挂载 root 文件系统为其提供用户空间支持。而 Docker镜像，就相当于一个root文件系统。 Docker镜像是一个特殊的文件系统，除了提供容器运行时所需的程序、库、资源和配置等文件以外，还包含了一些为运行时准备的一些配置参数（如匿名卷、环境变量、用户等）。镜像不包括任何动态数据，其内容在构建后也不会被改变。

## 容器

镜像和容器的关系，就像面向对象程序设计中 类与对象之间的关系一样，镜像是静态的定义，容器是镜像运行时的实体。容器可以被创建、启动，停止、删除和暂停等。

容器的实质是进程，但与直接在宿主执行的进程不同，容器进程运行于属于自己的独立的命名空间。因此容器可以拥有自己的root文件系统、自己的网络配置、自己的进程空间，甚至自己的用户ID空间。容器内的进程是运行在一个隔离的环境里，使用起来，就好像是在一个独立于宿主的系统下操作一样。这种特性使得容器封装的应用比直接在宿主运行更加安全。

## 仓库

镜像构建完成以后，可以很容易在当前宿主机上运行，但是，若需要在其他的服务器上使用这个镜像，我们就就需要一个集中的存储、分发镜像的服务， Docker Registry就是这样的服务。

一个 Docker Registry 中可以包含多个仓库，每个仓库可以包含多个标签，每个标签可以对应一个镜像。

通常，一个仓库会包含同一个软件不同版本的镜像，而标签就常用于对应该软件的各个版本。我们可以通过 `<仓库名>:<标签>` 的格式来指定具体是这个软件哪个版本的镜像。如果不给出标签，将以 `latest` 作为默认标签。